# 如何创建一个组件库

## 组件库的基本要求

- 开发环境，起个服务去调试代码
    - [`npm link`](../NodeJs/npm%E4%B8%8Epackage-json.md#本地调试npm包方法)
    - [`pnpm`](../构建/%E5%8C%85%E7%AE%A1%E7%90%86-pnpm/简介.md)
- 组件库编译，生成`umd`和`esm`模块的组件代码
    - [`rollup`](../%E6%9E%84%E5%BB%BA/rollup.md)
- 构建开发文档，说明一下组件怎么用
    - [`vuepress`](../%E6%9E%84%E5%BB%BA/%E6%96%87%E6%A1%A3%E6%9E%84%E5%BB%BA/vuepress.md)
    - [`vitepress`](../%E6%9E%84%E5%BB%BA/%E6%96%87%E6%A1%A3%E6%9E%84%E5%BB%BA/vitepress.md)
- 单元测试
    - 暂无
- 桌面端和移动端的组件预览
    - 暂无
- 代码格式化和规范检测工具
    - `husky`、`commintlint`
- 自动化的文档部署和测试流程
    - `gitlab ci`
    - `github actions`
    - `jekens`


## 组件库入口文件的设计

- 可作为插件一次性注册所有组件、混入、其它功能插件

    1. 建立一个入口文件`index.ts`，
    2. 将所有组件导入，作为一个数组，创建一个`install`函数，循环调用`app.component`
    3. 默认导出一个插件（这个`install`函数）

- 可作为插件安装某一个组（组件、插件）、或者单独一个插件

    1. 将组设计为一个组件库
    2. 在主文件导出

- 可单独安装某个插件或组件

    1. 每个组件新建一个文件夹，并且创建一个单独的`index.ts`文件
    2. 每个组件设计成一个插件（在组件对象上添加一个`install`方法）
    3. 在全局入口文件导出
