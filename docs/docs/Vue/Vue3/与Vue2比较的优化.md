# 与Vue2比较的优化

## 性能优化

### 体积优化：删除了一些不常用的API
如：filter

### 摇树优化：`Tree-shaking`
在Vue3中，所有的API都通过ES6模块化的方式引入，这样就能让webpack或rollup等打包工具在打包时对没有用到API进行剔除，最小化bundle体积。

### 优化响应式
- Vue2，`defineProperty`方法缺陷
	- 不能监听新增的属性
	- 对数组只能通过改写方法实现
- Vue3，使用`Proxy`进行拦截：
  - 可以监听新增的属性
  - 深层对象依然需要递归监听，但是可以实现在访问内部对象时在`getter`进行动态监听：**惰性监听**

### 编译优化
静态提升，静态节点都会被提升到render 的外部，只有初始化时会被创建，再次调用render时不会再次创建，可以直接重用这些静态节点对应的vnode
