import{_ as n,c as s,o as a,a as p}from"./app.f8375116.js";const m='{"title":"\u5982\u4F55\u521B\u5EFA\u4E00\u4E2A\u7EC4\u4EF6\u5E93","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u7EC4\u4EF6\u5E93\u7684\u57FA\u672C\u8981\u6C42","slug":"\u7EC4\u4EF6\u5E93\u7684\u57FA\u672C\u8981\u6C42"},{"level":2,"title":"\u7EC4\u4EF6\u5E93\u5165\u53E3\u6587\u4EF6\u7684\u8BBE\u8BA1","slug":"\u7EC4\u4EF6\u5E93\u5165\u53E3\u6587\u4EF6\u7684\u8BBE\u8BA1"},{"level":3,"title":"\u6240\u6709\u7EC4\u4EF6\u4E00\u6B21\u6027\u5168\u90E8\u5BFC\u5165\u5E76\u4E14\u4F5C\u4E3A\u63D2\u4EF6\u4F7F\u7528","slug":"\u6240\u6709\u7EC4\u4EF6\u4E00\u6B21\u6027\u5168\u90E8\u5BFC\u5165\u5E76\u4E14\u4F5C\u4E3A\u63D2\u4EF6\u4F7F\u7528"},{"level":3,"title":"\u5355\u4E2A\u7EC4\u4EF6\u5BFC\u5165\u5E76\u4E14\u4F5C\u4E3A\u63D2\u4EF6\u4F7F\u7528","slug":"\u5355\u4E2A\u7EC4\u4EF6\u5BFC\u5165\u5E76\u4E14\u4F5C\u4E3A\u63D2\u4EF6\u4F7F\u7528"},{"level":3,"title":"\u4F7F\u7528 rollup \u6253\u5305\u4E24\u79CD\u683C\u5F0F\u6A21\u5757\u6587\u4EF6","slug":"\u4F7F\u7528-rollup-\u6253\u5305\u4E24\u79CD\u683C\u5F0F\u6A21\u5757\u6587\u4EF6"},{"level":2,"title":"\u7EC4\u5408\u6253\u5305\u547D\u4EE4","slug":"\u7EC4\u5408\u6253\u5305\u547D\u4EE4"},{"level":2,"title":"\u672C\u5730\u8C03\u8BD5","slug":"\u672C\u5730\u8C03\u8BD5"},{"level":2,"title":"\u5728package.json\u4E2D\u914D\u7F6E\u5165\u53E3\u6587\u4EF6","slug":"\u5728package-json\u4E2D\u914D\u7F6E\u5165\u53E3\u6587\u4EF6"}],"relativePath":"md/Vue/\u7EC4\u4EF6\u5E93\u7684\u521B\u5EFA.md","lastUpdated":1642815613151}',t={},o=p(`<h1 id="\u5982\u4F55\u521B\u5EFA\u4E00\u4E2A\u7EC4\u4EF6\u5E93" tabindex="-1">\u5982\u4F55\u521B\u5EFA\u4E00\u4E2A\u7EC4\u4EF6\u5E93 <a class="header-anchor" href="#\u5982\u4F55\u521B\u5EFA\u4E00\u4E2A\u7EC4\u4EF6\u5E93" aria-hidden="true">#</a></h1><h2 id="\u7EC4\u4EF6\u5E93\u7684\u57FA\u672C\u8981\u6C42" tabindex="-1">\u7EC4\u4EF6\u5E93\u7684\u57FA\u672C\u8981\u6C42 <a class="header-anchor" href="#\u7EC4\u4EF6\u5E93\u7684\u57FA\u672C\u8981\u6C42" aria-hidden="true">#</a></h2><ul><li>\u5F00\u53D1\u73AF\u5883\uFF0C\u8D77\u4E2A\u670D\u52A1\u53BB\u8C03\u8BD5\u4EE3\u7801</li><li>\u652F\u6301\u6309\u9700\u5F15\u5165</li><li>\u7EC4\u4EF6\u5E93\u7F16\u8BD1\uFF0C\u751F\u6210<code>umd</code>\u548C<code>esm</code>\u6A21\u5757\u7684\u7EC4\u4EF6\u4EE3\u7801</li><li>\u6784\u5EFA\u5F00\u53D1\u6587\u6863\uFF0C\u8BF4\u660E\u4E00\u4E0B\u7EC4\u4EF6\u600E\u4E48\u7528</li><li>\u5355\u5143\u6D4B\u8BD5</li><li>\u684C\u9762\u7AEF\u548C\u79FB\u52A8\u7AEF\u7684\u7EC4\u4EF6\u9884\u89C8</li><li>\u4EE3\u7801\u683C\u5F0F\u5316\u548C\u89C4\u8303\u68C0\u6D4B\u5DE5\u5177</li><li>\u81EA\u52A8\u5316\u7684\u6587\u6863\u90E8\u7F72\u548C\u6D4B\u8BD5\u6D41\u7A0B</li></ul><h2 id="\u7EC4\u4EF6\u5E93\u5165\u53E3\u6587\u4EF6\u7684\u8BBE\u8BA1" tabindex="-1">\u7EC4\u4EF6\u5E93\u5165\u53E3\u6587\u4EF6\u7684\u8BBE\u8BA1 <a class="header-anchor" href="#\u7EC4\u4EF6\u5E93\u5165\u53E3\u6587\u4EF6\u7684\u8BBE\u8BA1" aria-hidden="true">#</a></h2><h3 id="\u6240\u6709\u7EC4\u4EF6\u4E00\u6B21\u6027\u5168\u90E8\u5BFC\u5165\u5E76\u4E14\u4F5C\u4E3A\u63D2\u4EF6\u4F7F\u7528" tabindex="-1">\u6240\u6709\u7EC4\u4EF6\u4E00\u6B21\u6027\u5168\u90E8\u5BFC\u5165\u5E76\u4E14\u4F5C\u4E3A\u63D2\u4EF6\u4F7F\u7528 <a class="header-anchor" href="#\u6240\u6709\u7EC4\u4EF6\u4E00\u6B21\u6027\u5168\u90E8\u5BFC\u5165\u5E76\u4E14\u4F5C\u4E3A\u63D2\u4EF6\u4F7F\u7528" aria-hidden="true">#</a></h3><div class="language-javascript"><pre><code><span class="token keyword">import</span> BlinkComponents <span class="token keyword">from</span> <span class="token string">&#39;blink-components&#39;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>BlinkComponents<span class="token punctuation">)</span>
</code></pre></div><ol><li>\u5EFA\u7ACB\u4E00\u4E2A\u5165\u53E3\u6587\u4EF6<code>index.ts</code>\uFF0C</li><li>\u5C06\u6240\u6709\u7EC4\u4EF6\u5BFC\u5165\uFF0C\u4F5C\u4E3A\u4E00\u4E2A\u6570\u7EC4\uFF0C\u521B\u5EFA\u4E00\u4E2A<code>install</code>\u51FD\u6570\uFF0C\u5FAA\u73AF\u8C03\u7528<code>app.component</code></li><li>\u9ED8\u8BA4\u5BFC\u51FA\u4E00\u4E2A\u63D2\u4EF6\uFF08\u8FD9\u4E2A<code>install</code>\u51FD\u6570\uFF09</li></ol><h3 id="\u5355\u4E2A\u7EC4\u4EF6\u5BFC\u5165\u5E76\u4E14\u4F5C\u4E3A\u63D2\u4EF6\u4F7F\u7528" tabindex="-1">\u5355\u4E2A\u7EC4\u4EF6\u5BFC\u5165\u5E76\u4E14\u4F5C\u4E3A\u63D2\u4EF6\u4F7F\u7528 <a class="header-anchor" href="#\u5355\u4E2A\u7EC4\u4EF6\u5BFC\u5165\u5E76\u4E14\u4F5C\u4E3A\u63D2\u4EF6\u4F7F\u7528" aria-hidden="true">#</a></h3><div class="language-javascript"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Text<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;blink-components&#39;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Text<span class="token punctuation">)</span>

<span class="token comment">// \u6216\u8005</span>
app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>Text<span class="token punctuation">.</span>name<span class="token punctuation">,</span>Text<span class="token punctuation">)</span>
</code></pre></div><ol><li>\u6BCF\u4E2A\u7EC4\u4EF6\u65B0\u5EFA\u4E00\u4E2A\u6587\u4EF6\u5939\uFF0C\u5E76\u4E14\u521B\u5EFA\u4E00\u4E2A\u5355\u72EC\u7684<code>index.ts</code>\u6587\u4EF6</li><li>\u6BCF\u4E2A\u7EC4\u4EF6\u8BBE\u8BA1\u6210\u4E00\u4E2A\u63D2\u4EF6\uFF08\u5728\u7EC4\u4EF6\u5BF9\u8C61\u4E0A\u6DFB\u52A0\u4E00\u4E2A<code>install</code>\u65B9\u6CD5\uFF09</li><li>\u5728\u5168\u5C40\u5165\u53E3\u6587\u4EF6\u5BFC\u51FA</li></ol><h3 id="\u4F7F\u7528-rollup-\u6253\u5305\u4E24\u79CD\u683C\u5F0F\u6A21\u5757\u6587\u4EF6" tabindex="-1">\u4F7F\u7528 <code>rollup</code> \u6253\u5305\u4E24\u79CD\u683C\u5F0F\u6A21\u5757\u6587\u4EF6 <a class="header-anchor" href="#\u4F7F\u7528-rollup-\u6253\u5305\u4E24\u79CD\u683C\u5F0F\u6A21\u5757\u6587\u4EF6" aria-hidden="true">#</a></h3><ul><li>\u57FA\u672C\u914D\u7F6E <code>rollup.default.config.js</code></li></ul><div class="language-javascript"><pre><code><span class="token keyword">import</span> jsonPlugin <span class="token keyword">from</span> <span class="token string">&#39;@rollup/plugin-json&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> vuePlugin <span class="token keyword">from</span> <span class="token string">&#39;rollup-plugin-vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> cssPlugin <span class="token keyword">from</span> <span class="token string">&#39;rollup-plugin-css-only&#39;</span>
<span class="token keyword">import</span> tsPlugin <span class="token keyword">from</span> <span class="token string">&#39;rollup-plugin-typescript2&#39;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span>dependencies<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./package.json&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">file</span> <span class="token operator">=</span> <span class="token parameter">type</span> <span class="token operator">=&gt;</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">dist/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js</span><span class="token template-punctuation string">\`</span></span>
<span class="token keyword">export</span> name
<span class="token keyword">const</span> deps <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>dependencies<span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">input</span><span class="token operator">:</span><span class="token string">&#39;main.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">file</span><span class="token operator">:</span><span class="token string">&#39;dist/bundle.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span><span class="token string">&#39;es&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token function">tsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">tsconfigOverride</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">declaration</span><span class="token operator">:</span><span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">vuePlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">cssPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token string">&#39;bundle.css&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">jsonPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function-variable function">external</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^vue</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token operator">||</span> deps<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token operator">=&gt;</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&#39;^&#39;</span><span class="token punctuation">,</span>k<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>es module</code> \uFF1A<code>rollup.esm.config.js</code></li></ul><div class="language-javascript"><pre><code><span class="token keyword">import</span> basicConfig<span class="token punctuation">,</span><span class="token punctuation">{</span>name<span class="token punctuation">,</span>file<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./rollup.default.config.js&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>basicConfig<span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
    name<span class="token punctuation">,</span>
    <span class="token literal-property property">file</span><span class="token operator">:</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token string">&#39;esm&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span><span class="token string">&#39;es&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>umd</code>\uFF1A<code>rollup.umd.config.js</code></li></ul><div class="language-javascript"><pre><code><span class="token keyword">import</span> basicConfig<span class="token punctuation">,</span><span class="token punctuation">{</span>name<span class="token punctuation">,</span>file<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./rollup.default.config.js&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>basicConfig<span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;blinkComponents&#39;</span><span class="token punctuation">,</span> <span class="token comment">//\u5168\u5C40\u53D8\u91CF\u540D\u79F0</span>
    <span class="token literal-property property">file</span><span class="token operator">:</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token string">&#39;umd&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span><span class="token string">&#39;umd&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">globals</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token string-property property">&#39;vue&#39;</span><span class="token operator">:</span><span class="token string">&#39;Vue&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">exports</span><span class="token operator">:</span><span class="token string">&#39;named&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="\u7EC4\u5408\u6253\u5305\u547D\u4EE4" tabindex="-1">\u7EC4\u5408\u6253\u5305\u547D\u4EE4 <a class="header-anchor" href="#\u7EC4\u5408\u6253\u5305\u547D\u4EE4" aria-hidden="true">#</a></h2><p><code>package.json</code>\uFF1A</p><div class="language-json"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;build:esm&quot;</span><span class="token operator">:</span><span class="token string">&quot;rollup --config build/rollup.esm.config.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build:umd&quot;</span><span class="token operator">:</span><span class="token string">&quot;rollup --config build/rollup.umd.config.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;clean&quot;</span><span class="token operator">:</span><span class="token string">&quot;rimraf ./dist&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span><span class="token string">&quot;npm run clean &amp;&amp; npm run build:esm &amp;&amp; npm run build:umd&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="\u672C\u5730\u8C03\u8BD5" tabindex="-1">\u672C\u5730\u8C03\u8BD5 <a class="header-anchor" href="#\u672C\u5730\u8C03\u8BD5" aria-hidden="true">#</a></h2><p>\u4F7F\u7528 <a href="./../NodeJs/\u672C\u5730\u8C03\u8BD5npm\u5305.html"><code>npm link</code></a> \u94FE\u63A5\u5230\u5168\u5C40\u5305</p><h2 id="\u5728package-json\u4E2D\u914D\u7F6E\u5165\u53E3\u6587\u4EF6" tabindex="-1">\u5728<code>package.json</code>\u4E2D\u914D\u7F6E\u5165\u53E3\u6587\u4EF6 <a class="header-anchor" href="#\u5728package-json\u4E2D\u914D\u7F6E\u5165\u53E3\u6587\u4EF6" aria-hidden="true">#</a></h2><ul><li><code>main</code>\u5B57\u6BB5\u6307\u5411<code>umd</code>\u811A\u672C<code>dist/blink-components.umd.js</code></li><li><code>module</code>\u5B57\u6BB5\u6307\u5411<code>es</code>\u811A\u672C<code>dist/blink-components.esm.js</code></li><li><code>types</code>\u5B57\u6BB5\u6307\u5411<code>typescript</code>\u7C7B\u578B\u6587\u4EF6<code>dist/index.d.ts</code></li></ul><div class="language-json"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span><span class="token string">&quot;dist/blink-components.umd.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;module&quot;</span><span class="token operator">:</span><span class="token string">&quot;dist/blink-components.esm.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;types&quot;</span><span class="token operator">:</span><span class="token string">&quot;dist/index.d.ts&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div>`,25),e=[o];function c(l,i,r,u,k,d){return a(),s("div",null,e)}var y=n(t,[["render",c]]);export{m as __pageData,y as default};
