# 脚手架原理

### 问与答 
1. 为什么全局安装 `@vue/cli`后会添加命令为`vue`？
```
npm install -g @vue/cli
```
`vue`指令并不是由包名称`@vue/cli`决定的，而是由`@vue/cli`包下的`package.json`的`bin`字段指定的：
```JSON
// package.json
"bin":{
  "vue":"bind/vue.js"
}
```
<br>

2. 全局安装`@vue/cli`时发生了什么？
将`@vue/cli`安装到全局目录，解析`package.json`的`bin`字段，配置软连接指定`vue`命令的执行文件`vue.js`。  
<br>

3. 为什么`vue`指向一个js文件，我们却可以直接去执行它？
js文件指定环境变量，使用node环境：
```javascript
#!/usr/bin/env node
console.log('hello world')
```
 
## 深入
1. 为什么说脚手架是客户端？
实际客户端是指`node`，`node`给脚手架提供了能力。
<br>

2. 怎么创建命令别名？
使用软连接
<br>

3. 脚手架执行全过程：
  - 执行`vue create vue-app`，终端查询环境变量，获得对应的指令，找到指定文件
  - 通过文件的环境配置`#!/usr/bin/env node`在对应环境中执行文件