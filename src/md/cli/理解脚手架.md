# 从使用的角度理解

## 简介
本质是一个操作系统的客户端，通过命令执行：如
```bash
vue create vue-app 
```
这条命令由三个部分组成
- 主命令：`vue`
- command:`create`
- command的param: `vue-app`
它表示创建一个vue项目，名称为`vue-app`，以上是一个较为简单的命令，实际场景往往更复杂：

当前目录已经有一个项目了，我们需要进行覆盖，强制安装，此时可以输入：
```bash
vue create vue-app --force
```
这里的 `--force` 叫做 `option`，用来辅助脚手架确认用户在特定场景下的的选择，还有一种场景：

当我们希望初始化项目时 `npm install` 使用淘宝源，可以输入：
```bash
vue create vue-app --force -r https://registry.npm.taobao.org
```
这里的`-r`也叫做option，与`--force`不同的是它使用`-`，并且是简写，`-r`也可以换成`--registry`，`--force`也可以换成`-f`。

可以使用以下命令来查看所有的命令：
```bash
vue create --help
```


## 执行原理
1. 输入命令 `vue create vue-app`
2. 终端解析`vue`命令
3. 终端在环境变量中找到`vue`命令
4. 终端根据`vue`命令查找到实际文件`vue.js`
5. 终端利用`node`执行`vue.js`
6. `vue.js`解析`command/options`
7. `vue.js`执行`command`
8. 结束执行


## 如何开发一个cli
> 以vue-cli为例
1. 开发一个`npm`项目，该项目中应包含一个`bin/vue.js`文件，并将项目发布到npm
2. 将项目安装到`node`的`lib/node_modules`
3. 在`NODE`的`bin`目录配置`vue`软连接指向`vue/node_modules/@vue/cli/bin/vue.js`

这样我们在执行`vue`命令的时候就可以找到`vue.js`进行执行

